<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>24åŠ¨ç‰©æ€§æ ¼å°æµ‹è¯•ï½œæš—é»‘ç²‰ç‰ˆ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

   body {
  font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Helvetica Neue", Arial;
  background: linear-gradient(180deg, #ffe9f3 0%, #f4f6ff 45%, #ffffff 100%);
  color: #222;
  min-height: 100vh;
}

.app {
  width: 100%;
  min-height: 100vh;
}

/* å¡ç‰‡åŒºåŸŸï¼šä¸­é—´æœ‰ä¸€ç‚¹ç™½åº•+é˜´å½±ï¼Œä¸å†æ˜¯çº¯æš—è‰² */
.card {
  width: 100%;
  max-width: 640px;
  margin: 24px auto 32px;
  padding: 22px 18px 30px;
  background: rgba(255, 255, 255, 0.94);
  border-radius: 24px;
  box-shadow: 0 16px 40px rgba(189, 160, 210, 0.25);
}


   .title-main {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 6px;
  color: #2b1030;
}

.title-sub {
  font-size: 13px;
  color: #7b7080;
  margin-bottom: 12px;
  line-height: 1.5;
}

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,192,203,0.25);
      background: rgba(255,192,203,0.06);
      color: #f5d8f0;
    }

    .pill span { margin-right: 4px; }

    button {
      border: none;
      padding: 12px 14px;
      border-radius: 999px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(135deg,#ff4b8a,#ff91c9);
      color: #ffffff;
      width: 100%;
      margin-top: 14px;
      box-shadow: 0 10px 25px rgba(255,75,138,0.45);
      transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.15s;
    }

    button:active {
      transform: translateY(1px);
      box-shadow: 0 6px 16px rgba(255,75,138,0.35);
      opacity: 0.96;
    }

    .btn-secondary {
      background: rgba(255,255,255,0.05);
      color: #e3e3ea;
      box-shadow: none;
      border: 1px solid rgba(255,255,255,0.08);
      margin-top: 14px;
    }
    .btn-secondary:active {
      box-shadow: none;
    }

    .btn-row {
      display: flex;
      gap: 10px;
      margin-top: 16px;
    }
    .btn-row button {
      width: 50%;
    }

    .tip {
      font-size: 11px;
      color: #8c8fa1;
      margin-top: 10px;
      text-align: center;
      line-height: 1.4;
    }

    .progress-wrap {
      margin-bottom: 16px;
    }
    .progress-label {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      color: #9a9db0;
      margin-bottom: 6px;
    }
    .progress-bar {
      width: 100%;
      height: 7px;
      border-radius: 999px;
      background: rgba(255,255,255,0.04);
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.06);
    }
    .progress-inner {
      height: 100%;
      border-radius: 999px;
      background: linear-gradient(135deg,#ff4b8a,#ff91c9);
      width: 0%;
      transition: width 0.25s ease;
    }

    .question-title {
      font-size: 17px;
      font-weight: 600;
      margin-bottom: 8px;
      line-height: 1.5;
      color: #ffffff;
    }

    .question-sub {
      font-size: 12px;
      color: #9a9db0;
      margin-bottom: 10px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 4px;
    }

 .opt {
  font-size: 13px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid #f0e3ff;
  background: #ffffff;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  transition: all 0.16s ease;
  color: #33313d;
}


    .opt-main {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .opt.selected {
  border-color: #ff8fb8;
  background: #ffe6f3;
  color: #2b1030;
  box-shadow: 0 6px 16px rgba(255, 143, 184, 0.35);
}

    .result-header {
      margin-bottom: 12px;
      padding: 6px 0;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }

    .result-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(255,105,180,0.13);
      font-size: 11px;
      color: #ffb9df;
      margin-bottom: 6px;
    }

    .result-animal {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 4px;
      color: #ffffff;
    }
    .result-line {
      font-size: 13px;
      color: #b0b3c0;
    }

    .section-title {
      font-size: 14px;
      font-weight: 600;
      margin: 14px 0 6px;
      color: #ffffff;
    }

    .section-text {
      font-size: 12px;
      color: #c4c7d4;
      line-height: 1.6;
      white-space: pre-line;
    }

    .score-row {
      margin-top: 8px;
    }

    .score-label {
      font-size: 12px;
      display: flex;
      justify-content: space-between;
      margin-bottom: 3px;
      color: #d3d6e5;
    }

    .score-bar {
      width: 100%;
      height: 7px;
      background: rgba(255,255,255,0.05);
      border-radius: 999px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.06);
    }

    .score-inner {
      height: 100%;
      border-radius: 999px;
      background: linear-gradient(135deg,#ff4b8a,#ff91c9);
      width: 0%;
      transition: width 0.3s ease;
    }

    .loading {
      font-size: 13px;
      color: #d3d6e5;
      margin-top: 16px;
    }

    .dot {
      display: inline-block;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: #ff78b4;
      margin: 0 2px;
      animation: bounce 0.8s infinite alternate;
    }
    .dot:nth-child(2) { animation-delay: 0.15s; }
    .dot:nth-child(3) { animation-delay: 0.3s; }

    @keyframes bounce {
      from { transform: translateY(0); opacity: 0.5; }
      to { transform: translateY(-3px); opacity: 1; }
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- èµ·å§‹é¡µ -->
    <div class="card" id="startCard">
      <div class="title-main">24åŠ¨ç‰©æ€§æ ¼å°æµ‹è¯•</div>
      <div class="title-sub">
        ä»æ—¥å¸¸é€‰æ‹©ã€æƒ…ç»ªååº”å’Œç›¸å¤„æ–¹å¼å‡ºå‘ï¼Œçœ‹çœ‹ä½ æ›´åƒå“ªä¸€ç§åŠ¨ç‰©åŸå‹ã€‚<br>
        æœ¬æµ‹è¯•åå¨±ä¹å‘ï¼Œä¸åšä»»ä½•ä¸“ä¸šè¯Šæ–­ï¼Œä»…ä¾›ä½ äº†è§£è‡ªå·±çš„ä¸€äº›å°å€¾å‘ã€‚
      </div>
      <div class="pill-row">
        <div class="pill"><span>â€¢</span> ä¸€é¢˜ä¸€é¡µï¼Œæ²‰æµ¸ä½œç­”</div>
        <div class="pill"><span>â€¢</span> å½“å‰ä¸ºç¤ºä¾‹é¢˜ï¼Œå¯é€æ­¥æ‰©å±•åˆ° 96 é¢˜</div>
        <div class="pill"><span>â€¢</span> ç»“æœå¯æˆªå›¾åˆ†äº«ç»™æœ‹å‹</div>
      </div>
      <button id="startBtn">å¼€å§‹æµ‹è¯•</button>
      <div class="tip">å°½é‡é€‰æ‹©ã€Œå¹³æ—¶çš„ä½ ã€ï¼Œè€Œä¸æ˜¯ä½ ç†æƒ³ä¸­çš„æ ·å­ã€‚</div>
    </div>

    <!-- é¢˜ç›®é¡µ -->
    <div class="card" id="quizCard" style="display:none;">
      <div class="progress-wrap">
        <div class="progress-label">
          <span id="progressText">ç¬¬ 1 é¢˜ / å…± 1 é¢˜</span>
          <span id="progressPercent">0%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-inner" id="progressInner"></div>
        </div>
      </div>

      <div class="question-title" id="questionTitle"></div>
      <div class="question-sub" id="questionSub"></div>
      <div class="options" id="optionsContainer"></div>

      <div class="btn-row">
        <button class="btn-secondary" id="prevBtn">ä¸Šä¸€é¢˜</button>
        <button id="nextBtn">ä¸‹ä¸€é¢˜</button>
      </div>
      <div class="tip">å¦‚æœæœ‰ä¸¤ä¸ªé€‰é¡¹éƒ½åƒä½ ï¼Œå°±é€‰æ›´å¸¸å‡ºç°çš„é‚£ä¸ªã€‚</div>
    </div>

    <!-- ç»“æœé¡µ -->
    <div class="card" id="resultCard" style="display:none;">
      <div class="result-header">
        <div class="result-badge">
          <span></span> ä½ çš„åŠ¨ç‰©æ€§æ ¼ç»„åˆ
        </div>
        <div class="result-animal" id="resultAnimal"></div>
        <div class="result-line" id="resultLine"></div>
      </div>

      <div id="scoreContainer"></div>

      <div class="section-title">ä¸»å¯¼åŠ¨ç‰©åŸå‹</div>
      <div class="section-text" id="mainText"></div>

      <div class="section-title">è¾…ä½/éšè—åŠ¨ç‰©åŸå‹</div>
      <div class="section-text" id="secondText"></div>

      <div class="section-title">ç»™ä½ çš„ä¸€ä¸ªå°æé†’</div>
      <div class="section-text" id="adviceText"></div>

      <button id="restartBtn">é‡æ–°æµ‹è¯•ä¸€æ¬¡</button>
      <div class="tip">å¯ä»¥æˆªå›¾ä¿å­˜ç»“æœï¼Œå‘åˆ°ç¬”è®°é‡Œæˆ–åˆ†äº«ç»™æœ‹å‹ä¸€èµ·ç©ï½</div>
    </div>

    <!-- è¿‡æ¸¡åŠ è½½é¡µ -->
    <div class="card" id="loadingCard" style="display:none;">
      <div class="title-main">æ­£åœ¨ç”Ÿæˆä½ çš„åŠ¨ç‰©æ¡£æ¡ˆ</div>
      <div class="title-sub">
        æˆ‘ä¼šæ ¹æ®ä½ åˆšæ‰çš„é€‰æ‹©ï¼Œç»¼åˆä¸åŒåŠ¨ç‰©åŸå‹çš„å¾—åˆ†ï¼Œä¸ºä½ ç”Ÿæˆä¸€ä»½è½»é‡çº§çš„åŠ¨ç‰©æ€§æ ¼æŠ¥å‘Šã€‚
      </div>
      <div class="loading">
        åˆ†æä¸­<span class="dot"></span><span class="dot"></span><span class="dot"></span>
      </div>
      <div class="tip">æœ¬æµ‹è¯•ä¸ä¼šå­˜å‚¨ä½ çš„ä¸ªäººä¿¡æ¯ï¼Œæ‰€æœ‰è®¡ç®—éƒ½åªåœ¨ä½ å½“å‰è®¾å¤‡æœ¬åœ°å®Œæˆã€‚</div>
    </div>
  </div>

  <script>
    // ===== 24 ç§åŠ¨ç‰©åŸå‹å®šä¹‰ï¼ˆç®€ç‰ˆï¼‰ =====
    const animalDefs = {
      lion:      { key:"lion",      name:"ç‹®å­ Â· é¢†å¯¼å‹",    icon:"ğŸ¦", brief:"ç›®æ ‡æ„Ÿå¼ºã€è¡ŒåŠ¨åŠ›é«˜ï¼Œä¹ æƒ¯ç«™åœ¨å±€ä¸­å¤®åšå†³å®šã€‚", advice:"è®°å¾—å¶å°”æ”¾æ…¢ä¸€ç‚¹ï¼Œè®©åˆ«äººä¹Ÿå‚ä¸è¿›æ¥ã€‚" },
      tiger:     { key:"tiger",     name:"è€è™ Â· çˆ†å‘å‹",    icon:"ğŸ¯", brief:"å†²åŠ²åè¶³ï¼Œæ•¢æƒ³æ•¢å¹²ï¼Œå…³é”®æ—¶åˆ»å¾€å¾€å†²åœ¨æœ€å‰é¢ã€‚", advice:"å†²ä¹‹å‰å¤šç»™è‡ªå·±å‡ ç§’æ€è€ƒï¼Œä¼šæ›´çœåŠ›ã€‚" },
      eagle:     { key:"eagle",     name:"é¹° Â· è¿œçœºå‹",      icon:"ğŸ¦…", brief:"æ“…é•¿çœ‹å¤§å±€ï¼Œä¹ æƒ¯ä»æ›´é«˜çš„è§†è§’æ€è€ƒé—®é¢˜ã€‚", advice:"é€‚å½“å…³æ³¨å½“ä¸‹çš„ç»†èŠ‚ï¼Œä¼šè®©ä½ çš„æƒ³æ³•æ›´å®¹æ˜“è½åœ°ã€‚" },
      bull:      { key:"bull",      name:"å…¬ç‰› Â· ç¡¬æ ¸å‹",    icon:"ğŸ‚", brief:"è€å—åº¦é«˜ã€æ¯”è¾ƒèƒ½æ‰›å‹ï¼Œä¸€æ—¦è®¤å‡†å°±å¾ˆéš¾è¢«åŠ¨æ‘‡ã€‚", advice:"é€‚å½“å¬å¬ä»–äººçš„åé¦ˆï¼Œä¼šé¿å…ä¸å¿…è¦çš„æŸè€—ã€‚" },
      cat:       { key:"cat",       name:"çŒ« Â· æ…¢çƒ­å‹",      icon:"ğŸ±", brief:"å¤–è¡¨ä½›ç³»ï¼Œå†…å¿ƒç»†è…»ï¼Œå¯¹æ°›å›´å’Œæƒ…ç»ªéå¸¸æ•æ„Ÿã€‚", advice:"ä½ çš„æ„Ÿå—å¾ˆé‡è¦ï¼Œåˆ«æ€»æ˜¯åªç…§é¡¾åˆ«äººã€‚" },
      deer:      { key:"deer",      name:"é¹¿ Â· å®³ç¾å‹",      icon:"ğŸ¦Œ", brief:"æœ‰ç¤¼è²Œã€é¡¾è™‘å¤šï¼Œå®¹æ˜“ç´§å¼ ï¼Œä½†éå¸¸å–„è‰¯ã€‚", advice:"ä½ æœ‰æƒåˆ©å ä¸€ç‚¹ç©ºé—´ï¼Œä¸å¿…æ€»æ˜¯é€€åˆ°æœ€åé¢ã€‚" },
      rabbit:    { key:"rabbit",    name:"å…”å­ Â· è½¯èŒå‹",    icon:"ğŸ°", brief:"éœ€è¦å®‰å…¨æ„Ÿï¼Œè®¨åŒå†²çªï¼Œå–œæ¬¢æŸ”å’Œçš„ç›¸å¤„æ–¹å¼ã€‚", advice:"æ¸©æŸ”ä¸æ˜¯å¼±ç‚¹ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨æ¸©æŸ”é‡Œé•¿å‡ºè¾¹ç•Œã€‚" },
      hedgehog:  { key:"hedgehog",  name:"åˆºçŒ¬ Â· å¤–å†·å†…æš–å‹",icon:"ğŸ¦”", brief:"å®¹æ˜“å…ˆç«‹èµ·åˆºä¿æŠ¤è‡ªå·±ï¼Œç†Ÿäº†ä¹‹åä¼šéå¸¸ç»†å¿ƒã€‚", advice:"é€‚å½“å‘å¯ä¿¡çš„äººå¸ä¸‹ä¸€ç‚¹é˜²å¤‡ï¼Œä¼šæ›´è½»æ¾ã€‚" },
      fox:       { key:"fox",       name:"ç‹ç‹¸ Â· æœºçµå‹",    icon:"ğŸ¦Š", brief:"ååº”å¿«ï¼Œä¼šè¯»ç©ºæ°”ï¼Œæ“…é•¿è°ƒèŠ‚æ°›å›´ã€‚", advice:"ä½ çš„å¹½é»˜å¾ˆè¿·äººï¼Œä½†ä¹Ÿè®°å¾—ç…§é¡¾è‡ªå·±çš„æ„Ÿå—ã€‚" },
      golden:    { key:"golden",    name:"é‡‘æ¯› Â· å¤ªé˜³å‹",    icon:"ğŸ¶", brief:"çƒ­æƒ…ã€çœŸè¯šã€å¾ˆä¼šç»™åˆ«äººå¸¦æ¥å®‰å…¨æ„Ÿã€‚", advice:"é€‚å½“æŠŠçƒ­æƒ…ç•™ç»™è‡ªå·±ä¸€ç‚¹ï¼Œä¸ç”¨å¯¹æ‰€æœ‰äººéƒ½é‚£ä¹ˆå¥½ã€‚" },
      monkey:    { key:"monkey",    name:"çŒ´å­ Â· æ´»åŠ›å‹",    icon:"ğŸ’", brief:"å¥½å¥‡å¿ƒé‡ï¼Œç‚¹å­å¤šï¼Œå¾ˆéš¾é•¿æ—¶é—´å®‰é™å¾…ç€ã€‚", advice:"é€‰ä¸€ä¸¤ä»¶äº‹é•¿æœŸåšæŒï¼Œä½ çš„åˆ›æ„ä¼šç§¯ç´¯æˆå®åŠ›ã€‚" },
      parrot:    { key:"parrot",    name:"é¹¦é¹‰ Â· è¡¨è¾¾å‹",    icon:"ğŸ¦œ", brief:"è¯å¤šã€çˆ±åˆ†äº«ï¼Œæœ€æ€•çš„æ˜¯æ²¡æœ‰å›åº”ã€‚", advice:"å­¦ä¹ ä¸€äº›å€¾å¬æŠ€å·§ï¼Œä½ ä¼šæ›´å—æ¬¢è¿ã€‚" },
      dolphin:   { key:"dolphin",   name:"æµ·è±š Â· å…±æƒ…å‹",    icon:"ğŸ¬", brief:"å¾ˆä¼šç…§é¡¾åˆ«äººæƒ…ç»ªï¼Œæ˜¯å¤©ç”Ÿçš„æ²»æ„ˆç³»ã€‚", advice:"å…±æƒ…åˆ«äººçš„åŒæ—¶ï¼Œä¹Ÿåˆ«å¿˜è®°å®‰é¡¿ä½ è‡ªå·±ã€‚" },
      penguin:   { key:"penguin",   name:"ä¼é¹… Â· é™ªä¼´å‹",    icon:"ğŸ§", brief:"ç¨³å®šã€é»äººã€å¯¹æ„Ÿæƒ…å¾ˆä¸“ä¸€ã€‚", advice:"åˆç†è¡¨è¾¾éœ€æ±‚ï¼Œæ¯”é»˜é»˜ä»˜å‡ºæ›´å¥åº·ã€‚" },
      whale:     { key:"whale",     name:"é²¸é±¼ Â· å¤§å¿ƒè„å‹",  icon:"ğŸ³", brief:"åŒ…å®¹åº¦é«˜ï¼Œä¸å¤ªè½»æ˜“çˆ†ç‚¸ï¼Œæ›´åƒä¸€å—å®‰é™çš„å¤§çŸ³å¤´ã€‚", advice:"ä½ ä¹Ÿéœ€è¦è¢«ç…§é¡¾ï¼Œä¸è¦æ€»æ˜¯æ‰®æ¼”ã€Œæ²¡äº‹çš„äººã€ã€‚" },
      otter:     { key:"otter",     name:"æ°´ç­ Â· æ’’å¨‡å‹",    icon:"ğŸ¦¦", brief:"å–œæ¬¢äº’åŠ¨å’Œé»ç³Šç³Šçš„äº²å¯†æ„Ÿï¼Œé‡è§†ä»ªå¼æ„Ÿã€‚", advice:"é€‚å½“ç»ƒä¹ ç‹¬å¤„èƒ½åŠ›ï¼Œä¼šè®©äº²å¯†å…³ç³»æ›´è½»æ¾ã€‚" },
      owl:       { key:"owl",       name:"çŒ«å¤´é¹° Â· ç†æ™ºå‹",  icon:"ğŸ¦‰", brief:"æ€è€ƒå¾ˆå¤šï¼Œå–œæ¬¢åœ¨åšå†³å®šå‰å…ˆå¼„æ¸…æ¥é¾™å»è„‰ã€‚", advice:"æœ‰æ—¶å€™å…ˆè¡ŒåŠ¨ï¼Œå†è¾¹èµ°è¾¹ä¿®ä¹Ÿæ²¡é—®é¢˜ã€‚" },
      wolf:      { key:"wolf",      name:"ç‹¼ Â· å›¢é˜Ÿå‹",      icon:"ğŸº", brief:"å›¢é˜Ÿæ„è¯†å¼ºï¼Œæœ‰è‡ªå·±çš„åŸåˆ™å’Œåº•çº¿ã€‚", advice:"å¯¹è‡ªå·±ç¨å¾®æŸ”è½¯ä¸€ç‚¹ï¼Œä¸ç”¨æ—¶åˆ»éƒ½é‚£ä¹ˆè­¦è§‰ã€‚" },
      beaver:    { key:"beaver",    name:"æ²³ç‹¸ Â· å®å¹²å‹",    icon:"ğŸ¦«", brief:"åŠ¨æ‰‹èƒ½åŠ›å¼ºï¼Œè„šè¸å®åœ°ï¼Œèƒ½æŠŠäº‹ä¸€æ­¥æ­¥åšå‡ºæ¥ã€‚", advice:"å…è®¸è‡ªå·±å¶å°”ä¸é‚£ä¹ˆé«˜æ•ˆï¼Œä¹Ÿæ˜¯åœ¨è“„åŠ›ã€‚" },
      turtle:    { key:"turtle",    name:"ä¹Œé¾Ÿ Â· ç¨³ç¨³å‹",    icon:"ğŸ¢", brief:"èŠ‚å¥æ…¢ä½†ç¨³å®šï¼Œä¹ æƒ¯ä»”ç»†æ€è€ƒåå†å‰è¿›ã€‚", advice:"ä¸–ç•Œä¸ä¸€å®šä¼šç­‰ä½ ï¼Œä½†é€‚å½“çš„ã€Œæ…¢ã€ä¼šå¸®ä½ é¿å‘ã€‚" },
      horse:     { key:"horse",     name:"é©¬ Â· è‡ªç”±å‹",      icon:"ğŸ´", brief:"çˆ±è‡ªç”±ã€çˆ±é€Ÿåº¦ï¼Œè®¨åŒè¢«è¿‡åº¦æŸç¼šã€‚", advice:"æ‰¾åˆ°æ—¢æœ‰ç©ºé—´åˆæœ‰åº•çº¿çš„å…³ç³»ï¼Œä¼šè®©ä½ æ›´èˆ’æœã€‚" },
      squirrel:  { key:"squirrel",  name:"æ¾é¼  Â· å°è®¡åˆ’æ§",  icon:"ğŸ¿ï¸", brief:"çˆ±å­˜ä¸œè¥¿ã€çˆ±åšè®¡åˆ’ï¼Œæœªé›¨ç»¸ç¼ªå‹äººæ ¼ã€‚", advice:"åˆ«æŠŠè‡ªå·±å›°æ­»åœ¨è®¡åˆ’é‡Œï¼Œç•™ä¸€ç‚¹å³å…´ç»™ç”Ÿæ´»ã€‚" },
      butterfly: { key:"butterfly", name:"è´è¶ Â· å˜åŒ–å‹",    icon:"ğŸ¦‹", brief:"å®¹æ˜“è¢«æ–°é²œäº‹ç‰©å¸å¼•ï¼Œå–œæ¬¢è½»ç›ˆå’Œå˜åŒ–ã€‚", advice:"é€‰ä¸€äº›å€¼å¾—é•¿æ—¶é—´é™ªä¼´çš„ä¸œè¥¿ï¼Œä¼šè®©ä½ æ›´æœ‰åº•æ°”ã€‚" },
      chameleon: { key:"chameleon", name:"å˜è‰²é¾™ Â· é€‚åº”å‹",  icon:"ğŸ¦", brief:"é€‚åº”åŠ›è¶…å¼ºï¼Œå¾ˆä¼šæ ¹æ®ç¯å¢ƒè°ƒæ•´è‡ªå·±ã€‚", advice:"ä¿æŒä¸€ç‚¹ã€Œä¸å˜çš„æ ¸å¿ƒã€ï¼Œåœ¨å˜åŒ–ä¸­å®ˆä½è‡ªå·±ã€‚" }
    };

    // ===== ç¤ºä¾‹é¢˜ç›®ï¼ˆåç»­å¯ä»¥ä¸€èµ·æ…¢æ…¢åŠ åˆ° 96 é¢˜ï¼‰ =====
    // æ¯ä¸ªé€‰é¡¹çš„ animalsï¼šå†…éƒ¨è®¡åˆ†æ˜ å°„ï¼Œç”¨æˆ·çœ‹ä¸åˆ°
    const questions = [
      {
        title: "åœ¨ä¸€ç¾¤æ–°æœ‹å‹çš„èšä¼šä¸Šï¼Œä½ æ›´å¸¸è§çš„çŠ¶æ€æ˜¯ï¼Ÿ",
        sub: "ä¸ç”¨æƒ³å¤ªä¹…ï¼Œé€‰ä¸€ä¸ªæœ€æ¥è¿‘ã€ŒçœŸå®çš„ä½ ã€çš„ã€‚",
        options: [
          {
            text: "å…ˆå¸®å¿™çœ‹çœ‹è¦æ€ä¹ˆå®‰æ’ï¼Œé¡ºæ‰‹ç»„ç»‡ä¸€ä¸‹å¤§å®¶ã€‚",
            animals: ["lion", "tiger", "eagle"]
          },
          {
            text: "æ‰¾ä¸ªèˆ’æœçš„ä½ç½®åå¥½ï¼Œæ…¢æ…¢è§‚å¯Ÿå¤§å®¶çš„æ°”è´¨ã€‚",
            animals: ["cat", "deer", "owl"]
          },
          {
            text: "åˆ°å¤„ä¸²æ¡Œæ‰“æ‹›å‘¼ï¼Œè¯•ç€å’Œä¸åŒçš„äººæ­ä¸Šè¯ã€‚",
            animals: ["fox", "golden", "monkey"]
          },
          {
            text: "å’Œç†Ÿæ‚‰çš„äººå¾…åœ¨ä¸€èµ·ï¼Œå¶å°”ç¤¼è²Œæ€§å’Œåˆ«äººäº’åŠ¨ã€‚",
            animals: ["penguin", "rabbit", "hedgehog"]
          }
        ]
      },
      {
        title: "å½“ä½ å¾ˆç´¯å¾ˆçƒ¦æ—¶ï¼Œæ›´æƒ³è¦çš„æ¢å¤æ–¹å¼æ˜¯ï¼Ÿ",
        sub: "",
        options: [
          {
            text: "ä¸€ä¸ªäººå®‰é™å¾…ç€ï¼Œè°éƒ½å…ˆåˆ«æ‰¾æˆ‘ã€‚",
            animals: ["turtle", "owl", "cat"]
          },
          {
            text: "å’Œæœ€äº²è¿‘çš„äººçªåœ¨ä¸€èµ·ï¼Œä»€ä¹ˆéƒ½ä¸åšä¹Ÿå¯ä»¥ã€‚",
            animals: ["dolphin", "penguin", "otter"]
          },
          {
            text: "å‡ºå»ç©ä¸€è½®ï¼Œåƒå¥½åƒçš„ã€é€›é€›è¡—ã€çœ‹çœ‹æ–°ä¸œè¥¿ã€‚",
            animals: ["butterfly", "horse", "monkey"]
          },
          {
            text: "å¹²è„†æŠ•å…¥åˆ°ä¸€ä»¶è¦åšçš„äº‹é‡Œï¼ŒæŠŠæ³¨æ„åŠ›æŒªèµ°ã€‚",
            animals: ["beaver", "bull", "wolf"]
          }
        ]
      },
      {
        title: "é‡åˆ°åˆ«äººæƒ…ç»ªä½è½ã€æ¥æ‰¾ä½ å€¾è¯‰æ—¶ï¼Œä½ é€šå¸¸ä¼šï¼Ÿ",
        sub: "",
        options: [
          {
            text: "ç«‹åˆ»å¸® Ta åˆ†æé—®é¢˜ã€æƒ³è§£å†³åŠæ³•ã€‚",
            animals: ["owl", "eagle", "wolf"]
          },
          {
            text: "å…ˆè®¤çœŸå¬å®Œï¼Œå®‰æ…°å’Œå…±æƒ…æ”¾åœ¨ç¬¬ä¸€ä½ã€‚",
            animals: ["dolphin", "whale", "cat"]
          },
          {
            text: "ç”¨è½»æ¾çš„æ–¹å¼å’Œä¸€ç‚¹ç‚¹ç©ç¬‘å¸® Ta ç¼“å’Œæ°”æ°›ã€‚",
            animals: ["fox", "monkey", "parrot"]
          },
          {
            text: "ä¼šæœ‰ç‚¹æ‰‹è¶³æ— æªï¼Œä½†ä¼šé»˜é»˜é™ªåœ¨èº«è¾¹ã€‚",
            animals: ["rabbit", "deer", "penguin"]
          }
        ]
      },
      {
        title: "é¢å¯¹ä¸€ä¸ªå…¨æ–°çš„æœºä¼šï¼ˆæ¯”å¦‚åŸå¸‚ã€é¡¹ç›®ã€å·¥ä½œï¼‰ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ",
        sub: "",
        options: [
          {
            text: "å…´å¥‹ï¼Œå…ˆå†²è¿‡å»å†è¯´ï¼Œè¾¹åšè¾¹çœ‹ã€‚",
            animals: ["tiger", "horse", "lion"]
          },
          {
            text: "å†·é™è¯„ä¼°åˆ©å¼Šï¼Œæƒ³æ¸…æ¥šå†å†³å®šè¦ä¸è¦å»ã€‚",
            animals: ["owl", "turtle", "beaver"]
          },
          {
            text: "å…ˆçœ‹çœ‹èº«è¾¹é‡è¦çš„äººä¼šæ€ä¹ˆé€‰æ‹©ã€‚",
            animals: ["wolf", "penguin", "golden"]
          },
          {
            text: "æœ‰ç‚¹æƒ³å»ï¼Œä½†ä¼šæ‹…å¿ƒå¾ˆå¤šç»†èŠ‚ï¼Œå®¹æ˜“çŠ¹è±«ã€‚",
            animals: ["hedgehog", "cat", "deer"]
          }
        ]
      },
      {
        title: "å¦‚æœç”¨ä¸€ç§åœºæ™¯å½¢å®¹ä½ ç†æƒ³çš„ç”Ÿæ´»æ°›å›´ï¼Œä½ æ›´åå‘ï¼Ÿ",
        sub: "",
        options: [
          {
            text: "èŠ‚å¥æ˜ç¡®ã€å¤§å®¶å„å¸å…¶èŒä½†ç›®æ ‡ç»Ÿä¸€çš„å›¢é˜Ÿã€‚",
            animals: ["bull", "wolf", "beaver"]
          },
          {
            text: "æœ‰ç¨³å®šå°çªï¼Œå¶å°”å’Œç†Ÿäººèšä¼šï¼Œç»å¸¸åœ¨å®¶èººç€ã€‚",
            animals: ["cat", "rabbit", "penguin"]
          },
          {
            text: "ç»å¸¸å¯ä»¥åˆ‡æ¢åŸå¸‚/ç¯å¢ƒï¼Œä¿æŒæ–°é²œæ„Ÿã€‚",
            animals: ["butterfly", "horse", "chameleon"]
          },
          {
            text: "ç™½å¤©é«˜æ•ˆåšäº‹ï¼Œå¤œæ™šç•™ç»™è‡ªå·±å‘å‘†/é˜…è¯»/æ€è€ƒã€‚",
            animals: ["owl", "turtle", "whale"]
          }
        ]
      }
      // ä¹‹åæˆ‘ä»¬å¯ä»¥ç»§ç»­åœ¨è¿™é‡Œå¾€ä¸‹åŠ é—®é¢˜ï¼Œä¸€ç›´åŠ åˆ° 96 é¢˜
    ];

    // ===== çŠ¶æ€ç›¸å…³ =====
    let currentIndex = 0;
    let answers = new Array(questions.length).fill(null);
    let scores = {};

    function resetScores() {
      scores = {};
      Object.keys(animalDefs).forEach(k => { scores[k] = 0; });
    }
    resetScores();

    // DOM
    const startCard   = document.getElementById("startCard");
    const quizCard    = document.getElementById("quizCard");
    const resultCard  = document.getElementById("resultCard");
    const loadingCard = document.getElementById("loadingCard");

    const questionTitle   = document.getElementById("questionTitle");
    const questionSub     = document.getElementById("questionSub");
    const optionsContainer= document.getElementById("optionsContainer");
    const progressText    = document.getElementById("progressText");
    const progressPercent = document.getElementById("progressPercent");
    const progressInner   = document.getElementById("progressInner");

    const resultAnimal = document.getElementById("resultAnimal");
    const resultLine   = document.getElementById("resultLine");
    const mainText     = document.getElementById("mainText");
    const secondText   = document.getElementById("secondText");
    const adviceText   = document.getElementById("adviceText");
    const scoreContainer = document.getElementById("scoreContainer");

    // æ˜¾ç¤ºé¢˜ç›®
    function showQuestion() {
      const q = questions[currentIndex];
      questionTitle.textContent = q.title;
      questionSub.textContent   = q.sub || "";

      const total = questions.length;
      progressText.textContent = `ç¬¬ ${currentIndex + 1} é¢˜ / å…± ${total} é¢˜`;
      const percent = Math.round((currentIndex / total) * 100);
      progressPercent.textContent = percent + "%";
      progressInner.style.width   = percent + "%";

      optionsContainer.innerHTML = "";

      q.options.forEach((opt, idx) => {
        const div = document.createElement("div");
        div.className = "opt";
        div.dataset.index = idx;

        const optMain = document.createElement("div");
        optMain.className = "opt-main";

        const textSpan = document.createElement("span");
        textSpan.textContent = opt.text;

        optMain.appendChild(textSpan);
        div.appendChild(optMain);

        if (answers[currentIndex] === idx) {
          div.classList.add("selected");
        }

        div.addEventListener("click", () => {
          answers[currentIndex] = idx;
          optionsContainer.querySelectorAll(".opt").forEach(o => o.classList.remove("selected"));
          div.classList.add("selected");
        });

        optionsContainer.appendChild(div);
      });

      const nextBtn = document.getElementById("nextBtn");
      nextBtn.textContent = currentIndex === total - 1 ? "æŸ¥çœ‹ç»“æœ" : "ä¸‹ä¸€é¢˜";
    }

    // è®¡ç®—åˆ†æ•°
    function calculateScores() {
      resetScores();
      questions.forEach((q, qi) => {
        const ansIndex = answers[qi];
        if (ansIndex == null) return;
        const opt = q.options[ansIndex];
        (opt.animals || []).forEach(key => {
          if (scores[key] != null) scores[key] += 1;
        });
      });
    }

    // å±•ç¤ºç»“æœ
    function showResult() {
      calculateScores();
      const sorted = Object.entries(scores)
        .filter(([,v]) => v > 0)
        .sort((a,b) => b[1] - a[1]);

      if (sorted.length === 0) {
        resultAnimal.textContent = "æš‚æ—¶çœ‹ä¸å‡ºæ˜æ˜¾çš„åŠ¨ç‰©å€¾å‘";
        resultLine.textContent   = "å¯ä»¥å°è¯•åœ¨ä¸åŒçŠ¶æ€ä¸‹å†æµ‹ä¸€æ¬¡ï¼Œæˆ–è€…æ›´è´´è¿‘çœŸå®æ„Ÿå—åœ°ä½œç­”ã€‚";
        mainText.textContent     = "";
        secondText.textContent   = "";
        adviceText.textContent   = "ä½ ä¸éœ€è¦è¢«ä»»ä½•æµ‹è¯•å®šä¹‰ï¼Œè¿™åªæ˜¯ä¸€ä¸ªç”¨æ¥ç©è€å’Œåæ€çš„å°å·¥å…·ã€‚";
        scoreContainer.innerHTML = "";
        return;
      }

      const [topKey, topScore] = sorted[0];
      const mainDef = animalDefs[topKey];
      let secondDef = null;

      if (sorted.length > 1) {
        const [secKey, secScore] = sorted[1];
        if (secScore > 0) secondDef = animalDefs[secKey];
      }

      resultAnimal.textContent = `${mainDef.icon} ${mainDef.name}`;
      resultLine.textContent   = mainDef.brief;

      mainText.textContent =
        `Â· ä½ èº«ä¸Šè¿™ç±»åŠ¨ç‰©çš„ç‰¹è´¨æ¯”è¾ƒæ˜æ˜¾ï¼Œåœ¨å¾ˆå¤šæƒ…å¢ƒä¸‹éƒ½ä¼šä¸è‡ªè§‰åœ°ä»¥è¿™ç§æ–¹å¼ååº”ã€‚\n` +
        `Â· åˆ«äººçœ¼é‡Œçš„ä½ ï¼Œå¾€å¾€ä¹Ÿä¼šå¸¦æœ‰è¿™ç§åŠ¨ç‰©ç»™äººçš„ç¬¬ä¸€å°è±¡ã€‚\n` +
        `Â· è¿™ç±»ç‰¹è´¨åœ¨ä½ èº«ä¸Šï¼Œå¤šåŠæ˜¯ä»ç”Ÿæ´»ç»å†ä¸­æ…¢æ…¢å…»æˆçš„ï¼Œä¸å¿…è¯„ä»·å¥½åï¼Œæ›´åƒæ˜¯ä¸€å¥—ã€Œé»˜è®¤æ¨¡å¼ã€ã€‚`;

      if (secondDef) {
        secondText.textContent =
          `Â· ä½ ä½“å†…è¿˜æœ‰ä¸€åªã€Œ${secondDef.name}ã€ï¼Œåœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ä¼šè¢«æ¿€æ´»ã€‚\n` +
          `Â· è¿™ä¼šè®©ä½ çš„æ€§æ ¼æ›´ç«‹ä½“ï¼šæœ‰æ—¶å€™åƒ ${mainDef.name}ï¼Œæœ‰æ—¶å€™åˆå¾ˆåƒ ${secondDef.name}ã€‚\n` +
          `Â· å¥½å¥½å’Œè¿™ä¸¤åªå°åŠ¨ç‰©å’Œå¹³ç›¸å¤„ï¼Œä¼šè®©ä½ åœ¨ä¸åŒç¯å¢ƒé‡Œéƒ½æ›´è‡ªåœ¨ã€‚`;
        adviceText.textContent =
          `æ¥è‡ª ${mainDef.icon} çš„æé†’ï¼š${mainDef.advice}\n\n` +
          `æ¥è‡ª ${secondDef.icon} çš„æé†’ï¼š${secondDef.advice}`;
      } else {
        secondText.textContent = "ç›®å‰æ²¡æœ‰ç‰¹åˆ«çªå‡ºçš„ç¬¬äºŒç±»å‹ï¼Œè¯´æ˜ä½ çš„ä¸»è¦åŠ¨ç‰©åŸå‹æ¯”è¾ƒé›†ä¸­ã€æ¯”è¾ƒæ˜æ˜¾ã€‚";
        adviceText.textContent =
          `æ¥è‡ª ${mainDef.icon} çš„æé†’ï¼š${mainDef.advice}\n\n` +
          `ä½ å¯ä»¥åœ¨ä¸åŒå¿ƒæƒ…ã€ä¸åŒé˜¶æ®µå†ç©å‡ æ¬¡ï¼Œçœ‹çœ‹ä¼šä¸ä¼šè·³å‡ºä¸ä¸€æ ·çš„å°åŠ¨ç‰©ã€‚`;
      }

      // åˆ†æ•°å±•ç¤ºå‰ 4 å
      scoreContainer.innerHTML = "";
      const topN = sorted.slice(0, 4);
      const maxScore = topN[0][1] || 1;

      topN.forEach(([key, value]) => {
        const def = animalDefs[key];
        const row = document.createElement("div");
        row.className = "score-row";

        const label = document.createElement("div");
        label.className = "score-label";
        label.innerHTML = `<span>${def.icon} ${def.name}</span><span>${value} åˆ†</span>`;

        const bar = document.createElement("div");
        bar.className = "score-bar";
        const inner = document.createElement("div");
        inner.className = "score-inner";
        inner.style.width = Math.round((value / maxScore) * 100) + "%";
        bar.appendChild(inner);

        row.appendChild(label);
        row.appendChild(bar);
        scoreContainer.appendChild(row);
      });
    }

    // äº‹ä»¶ç»‘å®š
    document.getElementById("startBtn").addEventListener("click", () => {
      startCard.style.display   = "none";
      resultCard.style.display  = "none";
      loadingCard.style.display = "none";
      quizCard.style.display    = "block";

      currentIndex = 0;
      answers = new Array(questions.length).fill(null);
      resetScores();
      showQuestion();
    });

    document.getElementById("prevBtn").addEventListener("click", () => {
      if (currentIndex === 0) return;
      currentIndex -= 1;
      showQuestion();
    });

    document.getElementById("nextBtn").addEventListener("click", () => {
      if (answers[currentIndex] == null) {
        alert("å…ˆé€‰ä¸€ä¸ªæœ€æ¥è¿‘ä½ çš„é€‰é¡¹å“¦ï½");
        return;
      }
      const lastIndex = questions.length - 1;
      if (currentIndex < lastIndex) {
        currentIndex += 1;
        showQuestion();
      } else {
        quizCard.style.display    = "none";
        loadingCard.style.display = "block";
        setTimeout(() => {
          loadingCard.style.display = "none";
          resultCard.style.display  = "block";
          showResult();
        }, 800);
      }
    });

    document.getElementById("restartBtn").addEventListener("click", () => {
      resultCard.style.display  = "none";
      startCard.style.display   = "block";
    });
  </script>
</body>
</html>
